블럭을 아무나 쉽게 만들 수 있으면 안 됨..

그래서 제한을 건게 바로 작업 증명 POW / proof of work = 채굴

컴퓨터가 문제를 풀면 됨..

풀면 네트워크의 다른 컴퓨터에 알려주고 블록을 같이 준다.

그럼 다른 컴퓨터가 그걸 체크

그게 방금 isValidBlock 함수임. 이게 나 혼자 할땐 당연해도 다른 사람이 준건 안 당연해서

조건을 3개나 건거다..

만약 검증이 통과된다면 체인에 넣는거고 아니면 버리고..

이제 chk3부터는 그걸 넣어볼거다..

POW란 뭔가

(hash)16진수를 2진수로 바꾸고, 그 2진수가 앞자리에 0이 몇개인지를 세는게 pow..

문제 난이도도 이걸 바꿔줌으로써 바꿀 수 있다.

앞자리에 0이 1개, 2개...

0의 수가 많아질수록 만족하는 숫자의 수도 적어지니 난이도는 상승한다.

만약 누군가 문제를 풀어 블럭 생성에 성공할 경우,

새로운 해시를 만들기 위해

nonce값을 임의로 지정한다.

///////////////////////////

난이도, nonce 값을 추가해 채굴 기능을 구현해보자. (chk4)

difficulty : 10개 정도 블럭의 평균 생성 소요 시간을 지정한다.

1. 1개 블럭 생성 시간을 평균 10분 정도로 지정

2. 평균 시간을 구하는 블럭 갯수를 10개로 한다.

너무 길면 낮추고, 짧으면 높힌다.

난이도도 윾동적이야.

이걸 지정하는 식을 만들고

체인을 구현해보는게 두 번째

이걸 하면 드디어 채굴 기능이 구현 됨.

체인 > 난이도 > 채굴 순으로 기능을 구현해본다.

